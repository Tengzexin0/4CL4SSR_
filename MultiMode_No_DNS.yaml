# æ‚¨çš„é¡¶éƒ¨é…ç½®ï¼Œä¾‹å¦‚ï¼š
mixed-port: 7890
socks-port: 7891
allow-lan: false
mode: rule
log-level: info
external-controller: 127.0.0.1:9090
dns:
    enable: true
    ipv6: false
    default-nameserver: [223.5.5.5, 119.29.29.29]
    enhanced-mode: fake-ip
    fake-ip-range: 198.18.0.1/16
    use-hosts: true
    nameserver: ['https://doh.pub/dns-query', 'https://dns.alidns.com/dns-query']
    fallback: ['https://doh.dns.sb/dns-query', 'https://dns.cloudflare.com/dns-query', 'https://dns.twnic.tw/dns-query', 'tls://8.8.4.4:853']
    fallback-filter: { geoip: true, ipcidr: [240.0.0.0/4, 0.0.0.0/32] }

# è¯·å°†æ‚¨æ‰€æœ‰çš„ VLESS ä»£ç†èŠ‚ç‚¹æ”¾åœ¨è¿™é‡Œã€‚ä¾‹å¦‚ï¼š
proxies:
  # ... çœç•¥äº†å…¶ä»–æ‰€æœ‰ VLESS ä»£ç†èŠ‚ç‚¹ï¼Œè¯·ç¡®ä¿å®ƒä»¬éƒ½åœ¨è¿™é‡Œå®šä¹‰
  # å®šä¹‰ä¸€ä¸ªæ‰€æœ‰ä»£ç†çš„åˆ—è¡¨ï¼Œä¾›ä¸‹é¢çš„ç»„å¼•ç”¨ï¼ˆè¿™æ˜¯ä¸€ä¸ªè¾…åŠ©å˜é‡ï¼Œå®é™…YAMLä¸­ä¸ä¼šå‡ºç°ï¼‰
  # ALL_PROXIES_NAMES = [
  #   "JP-123.122.123.12-443",
  #   "US-123.122.123.12-443",
  #   # ... æ‰€æœ‰ä»£ç†åç§°
  # ]

proxy-groups:
  - name: ğŸ’– â€èµ·é£
    type: select
    proxies:
      - ğŸ‹ â€ä½å»¶è¿Ÿ
      - ğŸ’˜ â€æŒ‡å®š
      - ğŸ‡­ğŸ‡° â€é¦™æ¸¯
      - ğŸ‡¹ğŸ‡¼ â€å°æ¹¾
      - ğŸ‡°ğŸ‡· â€éŸ©å›½
      - ğŸ‡¸ğŸ‡¬ â€æ–°åŠ å¡
      - ğŸ‡¯ğŸ‡µ â€æ—¥æœ¬
      - ğŸ‡ºğŸ‡¸ â€ç¾å›½
      - ğŸ â€å…¶ä»–
      - DIRECT
      - REJECT

  - name: ğŸ‹ â€ä½å»¶è¿Ÿ
    type: url-test
    url: https://i.ytimg.com/generate_204
    interval: 30
    tolerance: 100
    # è¿™é‡Œéœ€è¦åˆ—å‡ºæ‰€æœ‰ä½ å¯ä»¥ç”¨äºè¶…ä½å»¶è¿Ÿæµ‹è¯•çš„ä»£ç†
    # é€šå¸¸æ˜¯æ‰€æœ‰ä»£ç†ï¼Œç„¶åurl-testä¼šé€‰æ‹©æœ€å¿«çš„
    proxies:
      # è¯·å°†è¿™é‡Œæ›¿æ¢ä¸ºæ‚¨æ‰€æœ‰ä»£ç†çš„åç§°åˆ—è¡¨
      
  - name: ğŸ’˜ â€æŒ‡å®š
    type: select
    # 'select' ç±»å‹ç»„ï¼Œæˆå‘˜é€šå¸¸ç”±ç”¨æˆ·æ‰‹åŠ¨é€‰æ‹©ã€‚
    # è¿™é‡Œåº”åˆ—å‡ºæ‰€æœ‰å¯ä¾›é€‰æ‹©çš„ä»£ç†æˆ–ä»£ç†ç»„
    proxies:
      # è¿™é‡Œå¯ä»¥åˆ—å‡ºæ‰€æœ‰ä»£ç†ï¼Œæˆ–è€…ä½ å¸Œæœ›ç”¨æˆ·æ‰‹åŠ¨é€‰æ‹©çš„ç‰¹å®šä»£ç†
      # ä¾‹å¦‚ï¼Œå†æ¬¡ä½¿ç”¨æ‰€æœ‰ä»£ç†
      
  - name: â›°ï¸ â€å¢™å†…
    type: select
    proxies:
      - DIRECT
      - REJECT
      - ğŸ’– â€èµ·é£ # æ³¨æ„è¿™é‡Œå¼•ç”¨çš„æ˜¯æ‚¨å®šä¹‰çš„ç»„å

  - name: ğŸ’© â€å¹¿å‘Š
    type: select
    proxies:
      - REJECT
      - â›°ï¸ â€å¢™å†…
      - ğŸ’– â€èµ·é£

  - name: ğŸ¬ â€Bç«™
    type: select
    proxies:
      - â›°ï¸ â€å¢™å†…
      - ğŸ‡­ğŸ‡° â€é¦™æ¸¯
      - ğŸ‡¹ğŸ‡¼ â€å°æ¹¾
      - ğŸ’– â€èµ·é£

  - name: ğŸ¤– â€AI
    type: select
    proxies:
      - ğŸ‡ºğŸ‡¸ â€ç¾å›½
      - ğŸ‡¹ğŸ‡¼ â€å°æ¹¾
      - ğŸ‡°ğŸ‡· â€éŸ©å›½
      - ğŸ‡¸ğŸ‡¬ â€æ–°åŠ å¡
      - ğŸ‡¯ğŸ‡µ â€æ—¥æœ¬
      - ğŸ â€å…¶ä»–
      - ğŸ’– â€èµ·é£
      - â›°ï¸ â€å¢™å†…
      
  - name: ğŸ“¬ Telegram
    type: select
    proxies:
      - ğŸ’– â€èµ·é£
      - ğŸ’˜ â€æŒ‡å®š
      
  - name: ğŸ¬ â€Netflix
    type: select
    proxies:
      - ğŸ’– â€èµ·é£
      - ğŸ’˜ â€æŒ‡å®š
      
  - name: ğŸ§¸ DisneyPlus
    type: select
    proxies:
      - ğŸ’– â€èµ·é£
      - ğŸ’˜ â€æŒ‡å®š

  - name: ğŸŒ â€æœªçŸ¥ç«™ç‚¹
    type: select
    proxies:
      - ğŸ’– â€èµ·é£
      - â›°ï¸ â€å¢™å†…
      - ğŸ’© â€å¹¿å‘Š

  - name: ğŸ‡­ğŸ‡° â€é¦™æ¸¯
    type: url-test
    url: https://i.ytimg.com/generate_204
    interval: 15
    tolerance: 100
    # è¿™é‡Œå¿…é¡»åˆ—å‡ºæ‰€æœ‰ä»£ç†åç§°ï¼Œfilter ä¼šå¯¹å…¶è¿›è¡Œç­›é€‰
    proxies:
     
    filter: ğŸ‡­ğŸ‡°(?!.*(?!ğŸ‡¨ğŸ‡³)[ğŸ‡¦-ğŸ‡¿]{2})

  - name: ğŸ‡¹ğŸ‡¼ â€å°æ¹¾
    type: url-test
    url: https://i.ytimg.com/generate_204
    interval: 15
    tolerance: 100
    proxies:
      # åŒä¸Šï¼Œåˆ—å‡ºæ‰€æœ‰ä»£ç†åç§°
     
    filter: ğŸ‡¹ğŸ‡¼(?!.*(?!ğŸ‡¨ğŸ‡³)[ğŸ‡¦-ğŸ‡¿]{2})

  - name: ğŸ‡°ğŸ‡· â€éŸ©å›½
    type: url-test
    url: https://i.ytimg.com/generate_204
    interval: 15
    tolerance: 100
    proxies:
      # åŒä¸Šï¼Œåˆ—å‡ºæ‰€æœ‰ä»£ç†åç§°
      
    filter: ğŸ‡°ğŸ‡·(?!.*[ğŸ‡¦-ğŸ‡¿]{2})

  - name: ğŸ‡¸ğŸ‡¬ â€æ–°åŠ å¡
    type: url-test
    url: https://i.ytimg.com/generate_204
    interval: 15
    tolerance: 100
    proxies:
      # åŒä¸Šï¼Œåˆ—å‡ºæ‰€æœ‰ä»£ç†åç§°
     
    filter: ğŸ‡¸ğŸ‡¬(?!.*[ğŸ‡¦-ğŸ‡¿]{2})

  - name: ğŸ‡¯ğŸ‡µ â€æ—¥æœ¬
    type: url-test
    url: https://i.ytimg.com/generate_204
    interval: 15
    tolerance: 100
    proxies:
      # åŒä¸Šï¼Œåˆ—å‡ºæ‰€æœ‰ä»£ç†åç§°
      
    filter: ğŸ‡¯ğŸ‡µ(?!.*[ğŸ‡¦-ğŸ‡¿]{2})

  - name: ğŸ‡ºğŸ‡¸ â€ç¾å›½
    type: url-test
    url: https://i.ytimg.com/generate_204
    interval: 15
    tolerance: 300
    proxies:
      # åŒä¸Šï¼Œåˆ—å‡ºæ‰€æœ‰ä»£ç†åç§°
     
    filter: (ğŸ‡ºğŸ‡¸|ğŸ‡ºğŸ‡²)(?!.*[ğŸ‡¦-ğŸ‡¿]{2})

  - name: ğŸ â€å…¶ä»–
    type: url-test
    url: https://i.ytimg.com/generate_204
    interval: 30
    tolerance: 100
    proxies:
      # åŒä¸Šï¼Œåˆ—å‡ºæ‰€æœ‰ä»£ç†åç§°
    
    filter: ^(?!.*(ğŸ‡¨ğŸ‡³|ğŸ‡­ğŸ‡°|ğŸ‡²ğŸ‡´|ğŸ‡¹ğŸ‡¼|ğŸ‡¸ğŸ‡¬|ğŸ‡¯ğŸ‡µ|ğŸ‡ºğŸ‡¸|ğŸ‡ºğŸ‡²)(?!.*[ğŸ‡¦-ğŸ‡¿]{2}))

rule-providers:
  # DIRECT è§„åˆ™é›†
  LocalAreaNetwork:
    type: http
    behavior: classical # æˆ–è€… domain/ipcidrï¼Œå–å†³äºåˆ—è¡¨å†…å®¹
    url: "https://raw.githubusercontent.com/Tengzexin0/4CL4SSR_/main/Clash/Direct/LocalAreaNetwork.list"
    interval: 86400
    path: "./rules/local-area-network.yaml" # æœ¬åœ°ä¿å­˜è·¯å¾„ï¼Œå¯è‡ªå®šä¹‰

  ChinaOnly:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/Tengzexin0/4CL4SSR_/main/Clash/Direct/ChinaOnly.list"
    interval: 86400
    path: "./rules/china-only.yaml"

  # â›°ï¸ â€å¢™å†… è§„åˆ™é›†
  UnBan1:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/Tengzexin0/4CL4SSR_/main/Clash/Domestic/UnBan1.list"
    interval: 86400
    path: "./rules/unban1.yaml"

  UnBan:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/Tengzexin0/4CL4SSR_/main/Clash/Domestic/UnBan.list"
    interval: 86400
    path: "./rules/unban.yaml"

  GoogleCN:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/Tengzexin0/4CL4SSR_/main/Clash/Domestic/GoogleCN.list"
    interval: 86400
    path: "./rules/googlecn.yaml"

  SteamCN:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/Tengzexin0/4CL4SSR_/main/Clash/Domestic/SteamCN.list"
    interval: 86400
    path: "./rules/steamcn.yaml"

  ChinaDomain:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/Tengzexin0/4CL4SSR_/main/Clash/Domestic/ChinaDomain.list"
    interval: 86400
    path: "./rules/chinadomain.yaml"

  ChinaCompanyIp:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/Tengzexin0/4CL4SSR_/main/Clash/Domestic/ChinaCompanyIp.list"
    interval: 86400
    path: "./rules/chinacompanyip.yaml"

  # ğŸ’© â€å¹¿å‘Š è§„åˆ™é›†
  BanProgramAD1:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/Tengzexin0/4CL4SSR_/main/Clash/Advertise/BanProgramAD1.list"
    interval: 86400
    path: "./rules/banprogramad1.yaml"

  BanAD:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/Tengzexin0/4CL4SSR_/main/Clash/Advertise/BanAD.list"
    interval: 86400
    path: "./rules/banad.yaml"

  BanProgramAD:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/Tengzexin0/4CL4SSR_/main/Clash/Advertise/BanProgramAD.list"
    interval: 86400
    path: "./rules/banprogramad.yaml"

  # ğŸ¬ â€Bç«™ è§„åˆ™é›†
  BilibiliHMT:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/Tengzexin0/4CL4SSR_/main/Clash/Domestic/BilibiliHMT.list"
    interval: 86400
    path: "./rules/bilibilihmt.yaml"

  Bilibili:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/Tengzexin0/4CL4SSR_/main/Clash/Domestic/Bilibili.list"
    interval: 86400
    path: "./rules/bilibili.yaml"

  # ğŸ¤– â€AI è§„åˆ™é›†
  AI:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/Tengzexin0/4CL4SSR_/main/Clash/AI.list"
    interval: 86400
    path: "./rules/ai.yaml"

  # ğŸ“¬ Telegram è§„åˆ™é›†
  Telegram:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/Tengzexin0/4CL4SSR_/main/Clash/Telegram.list"
    interval: 86400
    path: "./rules/telegram.yaml"
    
  # ğŸ¥ Netflix è§„åˆ™é›†
  Netflix:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/Tengzexin0/4CL4SSR_/main/Clash/Netflix.list"
    interval: 86400
    path: "./rules/netflix.yaml"
    
 # ğŸ§¸ DisneyPlus è§„åˆ™é›†
  DisneyPlus:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/Tengzexin0/4CL4SSR_/main/Clash/DisneyPlus.list"
    interval: 86400
    path: "./rules/disneyplus.yaml"


  # ğŸ’– â€èµ·é£é€‰æ‹© è§„åˆ™é›† (GFWlist)
  ProxyGFWlist:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/Tengzexin0/4CL4SSR_/main/Clash/ProxyGFWlist.list"
    interval: 86400
    path: "./rules/proxygfwlist.yaml"

rules:
  # æ³¨æ„ï¼šè¿™é‡Œçš„åç§°éœ€è¦ä¸ä¸Šé¢ rule-providers ä¸­å®šä¹‰çš„åç§°ä¸€è‡´
  - RULE-SET,LocalAreaNetwork,DIRECT
  - RULE-SET,ChinaOnly,DIRECT
  - RULE-SET,UnBan1,â›°ï¸ â€å¢™å†…
  - RULE-SET,UnBan,â›°ï¸ â€å¢™å†…
  - RULE-SET,BanProgramAD1,ğŸ’© â€å¹¿å‘Š
  - RULE-SET,BanAD,ğŸ’© â€å¹¿å‘Š
  - RULE-SET,BanProgramAD,ğŸ’© â€å¹¿å‘Š
  - RULE-SET,GoogleCN,â›°ï¸ â€å¢™å†…
  - RULE-SET,SteamCN,â›°ï¸ â€å¢™å†…
  - RULE-SET,BilibiliHMT,ğŸ¬ â€Bç«™
  - RULE-SET,Bilibili,ğŸ¬ â€Bç«™
  - RULE-SET,AI,ğŸ¤– â€AI
  - RULE-SET,Telegram,ğŸ“¬ Telegram
  - RULE-SET,Netflix,ğŸ¬ â€Netflix
  - RULE-SET,DisneyPlus,ğŸ§¸ DisneyPlus
  - RULE-SET,ProxyGFWlist,ğŸ’– â€èµ·é£
  - RULE-SET,ChinaDomain,â›°ï¸ â€å¢™å†…
  - RULE-SET,ChinaCompanyIp,â›°ï¸ â€å¢™å†…
  - GEOIP,CN,â›°ï¸ â€å¢™å†…,no-resolve # æ³¨æ„ï¼šGEOIPè§„åˆ™è¯­æ³•ä¸å˜
  - MATCH,ğŸŒ â€æœªçŸ¥ç«™ç‚¹
