# Clash Configuration File
# yaml

dns:
  enable: true
  ipv6: false
  listen: 0.0.0.0:1053
  respect-rules: true
  use-system-hosts: false
  cache-algorithm: arc
  enhanced-mode: fake-ip
  fake-ip-range: 198.18.0.1/16
  fake-ip-filter:
    - +.lan
    - +.local
    - +.msftconnecttest.com
    - +.msftncsi.com
    - localhost.ptlogin2.qq.com
    - localhost.sec.qq.com
    - +.in-addr.arpa
    - +.ip6.arpa
    - time.*.com
    - time.*.gov
    - pool.ntp.org
    - localhost.work.weixin.qq.com
  default-nameserver:
    - https://223.5.5.5/dns-query
    - https://119.29.29.29/dns-query
  nameserver:
    - https://doh.dns.sb/dns-query
    - https://dns.cloudflare.com/dns-query
    - https://dns.twnic.tw/dns-query
    - tls://8.8.4.4:853
  proxy-server-nameserver:
    - https://223.5.5.5/dns-query
    - https://119.29.29.29/dns-query
  direct-nameserver:
    - https://223.5.5.5/dns-query
    - https://119.29.29.29/dns-query
  nameserver-policy:
    'geosite:private,cn':
      - https://223.5.5.5/dns-query
      - https://doh.pub/dns-query

rule-providers:
  reject:
    type: http
    behavior: domain
    url: https://fastly.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/reject.txt
    path: ./ruleset/loyalsoldier/reject.yaml
    interval: 86400
  banad:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/Tengzexin0/4CL4SSR_/main/Clash/Advertise/BanAD.list
    path: ./ruleset/loyalsoldier/banad.yaml
    interval: 86400
  banprogramad:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/Tengzexin0/4CL4SSR_/main/Clash/Advertise/BanProgramAD.list
    path: ./ruleset/loyalsoldier/banprogramad.yaml
    interval: 86400
  banprogramad1:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/Tengzexin0/4CL4SSR_/main/Clash/Advertise/BanProgramAD1.list
    path: ./ruleset/loyalsoldier/banprogramad1.yaml
    interval: 86400
  icloud:
    type: http
    behavior: domain
    url: https://fastly.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/icloud.txt
    path: ./ruleset/loyalsoldier/icloud.yaml
    interval: 86400
  apple:
    type: http
    behavior: domain
    url: https://fastly.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/apple.txt
    path: ./ruleset/loyalsoldier/apple.yaml
    interval: 86400
  google:
    type: http
    behavior: domain
    url: https://fastly.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/google.txt
    path: ./ruleset/loyalsoldier/google.yaml
    interval: 86400
  proxy:
    type: http
    behavior: domain
    url: https://fastly.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/proxy.txt
    path: ./ruleset/loyalsoldier/proxy.yaml
    interval: 86400
  direct:
    type: http
    behavior: domain
    url: https://fastly.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/direct.txt
    path: ./ruleset/loyalsoldier/direct.yaml
    interval: 86400
  private:
    type: http
    behavior: domain
    url: https://fastly.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/private.txt
    path: ./ruleset/loyalsoldier/private.yaml
    interval: 86400
  unban:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/Tengzexin0/4CL4SSR_/main/Clash/Domestic/UnBan.list
    path: ./ruleset/loyalsoldier/unban.yaml
    interval: 86400
  unban1:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/Tengzexin0/4CL4SSR_/main/Clash/Domestic/UnBan1.list
    path: ./ruleset/loyalsoldier/unban1.yaml
    interval: 86400
  googlecn:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/Tengzexin0/4CL4SSR_/main/Clash/Domestic/GoogleCN.list
    path: ./ruleset/loyalsoldier/googlecn.yaml
    interval: 86400
  steamcn:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/Tengzexin0/4CL4SSR_/main/Clash/Domestic/SteamCN.list
    path: ./ruleset/loyalsoldier/steamcn.yaml
    interval: 86400
  chinadomain:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/Tengzexin0/4CL4SSR_/main/Clash/Domestic/ChinaDomain.list
    path: ./ruleset/loyalsoldier/chinadomain.yaml
    interval: 86400
  chinacompanyip:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/Tengzexin0/4CL4SSR_/main/Clash/Domestic/ChinaCompanyIp.list
    path: ./ruleset/loyalsoldier/chinacompanyip.yaml
    interval: 86400
  gfw:
    type: http
    behavior: domain
    url: https://fastly.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/gfw.txt
    path: ./ruleset/loyalsoldier/gfw.yaml
    interval: 86400
  proxygfwlist:
    type: http
    behavior: domain
    url: https://raw.githubusercontent.com/Tengzexin0/4CL4SSR_/main/Clash/ProxyGFWlist.list
    path: ./ruleset/loyalsoldier/proxygfwlist.yaml
    interval: 86400
  tld-not-cn:
    type: http
    behavior: domain
    url: https://fastly.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/tld-not-cn.txt
    path: ./ruleset/loyalsoldier/tld-not-cn.yaml
    interval: 86400
  telegramcidr:
    type: http
    behavior: ipcidr
    url: https://fastly.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/telegramcidr.txt
    path: ./ruleset/loyalsoldier/telegramcidr.yaml
    interval: 86400
  cncidr:
    type: http
    behavior: ipcidr
    url: https://fastly.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/cncidr.txt
    path: ./ruleset/loyalsoldier/cncidr.yaml
    interval: 86400
  lancidr:
    type: http
    behavior: ipcidr
    url: https://fastly.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/lancidr.txt
    path: ./ruleset/loyalsoldier/lancidr.yaml
    interval: 86400
  applications:
    type: http
    behavior: classical
    url: https://fastly.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/applications.txt
    path: ./ruleset/loyalsoldier/applications.yaml
    interval: 86400
  openai:
    type: http
    behavior: classical
    url: https://fastly.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/OpenAI/OpenAI.yaml
    path: ./ruleset/loyalsoldier/openai.yaml
    interval: 86400
  bilibili:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/Tengzexin0/4CL4SSR_/main/Clash/Domestic/Bilibili.list
    path: ./ruleset/blackmatrix7/bilibili.yaml
    interval: 86400
  bilibilihmt:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/Tengzexin0/4CL4SSR_/main/Clash/Domestic/BilibiliHMT.list
    path: ./ruleset/blackmatrix7/bilibilihmt.yaml
    interval: 86400
  ai:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/Tengzexin0/4CL4SSR_/main/Clash/AI.list
    path: ./ruleset/blackmatrix7/ai.yaml
    interval: 86400
  netflix:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/Tengzexin0/4CL4SSR_/main/Clash/Netflix.list
    path: ./ruleset/blackmatrix7/netflix.yaml
    interval: 86400
  disney+:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/Tengzexin0/4CL4SSR_/main/Clash/DisneyPlus.list
    path: ./ruleset/blackmatrix7/disney+.yaml
    interval: 86400

proxy-groups:
  - name: èŠ‚ç‚¹é€‰æ‹©
    type: select
    proxies:
      - å»¶è¿Ÿé€‰ä¼˜
      - HK
      - TW
      - US
      - KR
      - JP
      - SG
      - å…¶ä»–
    interval: 300
    timeout: 3000
    url: http://www.gstatic.com/generate_204
    lazy: true
    max-failed-times: 3
    hidden: false
    include-all: false
    icon: https://cdn.jsdelivr.net/gh/Tengzexin0/jsdelivrcdn_repository@main/assets/icons/heart.svg
  - name: å»¶è¿Ÿé€‰ä¼˜
    type: url-test
    tolerance: 100
    interval: 300
    timeout: 3000
    url: http://www.gstatic.com/generate_204
    lazy: true
    max-failed-times: 3
    hidden: false
    include-all: true
    icon: https://cdn.jsdelivr.net/gh/Tengzexin0/jsdelivrcdn_repository@main/assets/icons/speed.svg
  - name: è½åœ°æŒ‡å®š
    type: select
    interval: 300
    timeout: 3000
    url: http://www.gstatic.com/generate_204
    lazy: true
    max-failed-times: 3
    hidden: false
    include-all: true
    icon: https://cdn.jsdelivr.net/gh/Tengzexin0/jsdelivrcdn_repository@main/assets/icons/departure.svg
  - name: Bilibili
    type: select
    proxies:
      - å¢™å†…ç›´è¿
      - èŠ‚ç‚¹é€‰æ‹©
      - å»¶è¿Ÿé€‰ä¼˜
      - HK
      - TW
    interval: 300
    timeout: 3000
    url: http://www.gstatic.com/generate_204
    lazy: true
    max-failed-times: 3
    hidden: false
    include-all: false
    icon: https://cdn.jsdelivr.net/gh/Tengzexin0/jsdelivrcdn_repository@main/assets/icons/bilibili.svg
  - name: AI
    type: select
    proxies:
      - èŠ‚ç‚¹é€‰æ‹©
      - å»¶è¿Ÿé€‰ä¼˜
      - å¢™å†…ç›´è¿
      - HK
      - TW
      - US
      - KR
      - JP
      - SG
      - å…¶ä»–
    interval: 300
    timeout: 3000
    url: http://www.gstatic.com/generate_204
    lazy: true
    max-failed-times: 3
    hidden: false
    include-all: false
    icon: https://cdn.jsdelivr.net/gh/Tengzexin0/jsdelivrcdn_repository@main/assets/icons/omelette.svg
  - name: ChatGPT
    type: select
    proxies:
      - èŠ‚ç‚¹é€‰æ‹©
      - å»¶è¿Ÿé€‰ä¼˜
      - HK
      - TW
      - US
      - KR
      - JP
      - SG
      - å…¶ä»–
    interval: 300
    timeout: 3000
    url: https://chatgpt.com
    lazy: true
    max-failed-times: 3
    hidden: false
    include-all: false
    expected-status: 200
    icon: https://cdn.jsdelivr.net/gh/Tengzexin0/jsdelivrcdn_repository@main/assets/icons/chatgpt.svg
  - name: Telegram
    type: select
    proxies:
      - èŠ‚ç‚¹é€‰æ‹©
      - å»¶è¿Ÿé€‰ä¼˜
      - è½åœ°æŒ‡å®š
    interval: 300
    timeout: 3000
    url: http://www.gstatic.com/generate_204
    lazy: true
    max-failed-times: 3
    hidden: false
    include-all: false
    icon: https://cdn.jsdelivr.net/gh/Tengzexin0/jsdelivrcdn_repository@main/assets/icons/telegram.svg
  - name: Netflix
    type: select
    proxies:
      - èŠ‚ç‚¹é€‰æ‹©
      - å»¶è¿Ÿé€‰ä¼˜
      - è½åœ°æŒ‡å®š
    interval: 300
    timeout: 3000
    url: http://www.gstatic.com/generate_204
    lazy: true
    max-failed-times: 3
    hidden: false
    include-all: false
    icon: https://cdn.jsdelivr.net/gh/Tengzexin0/jsdelivrcdn_repository@main/assets/icons/netflix.svg
  - name: Disney+
    type: select
    proxies:
      - èŠ‚ç‚¹é€‰æ‹©
      - å»¶è¿Ÿé€‰ä¼˜
      - è½åœ°æŒ‡å®š
    interval: 300
    timeout: 3000
    url: http://www.gstatic.com/generate_204
    lazy: true
    max-failed-times: 3
    hidden: false
    include-all: false
    icon: https://cdn.jsdelivr.net/gh/Tengzexin0/jsdelivrcdn_repository@main/assets/icons/disney.svg
  - name: å¢™å†…ç›´è¿
    type: select
    proxies:
      - DIRECT
      - èŠ‚ç‚¹é€‰æ‹©
      - å»¶è¿Ÿé€‰ä¼˜
      - è½åœ°æŒ‡å®š
    interval: 300
    timeout: 3000
    url: http://www.gstatic.com/generate_204
    lazy: true
    max-failed-times: 3
    hidden: false
    include-all: false
    icon: https://cdn.jsdelivr.net/gh/Tengzexin0/jsdelivrcdn_repository@main/assets/icons/sushi.svg
  - name: US
    type: url-test
    url: https://i.ytimg.com/generate_204
    interval: 30
    tolerance: 100
    timeout: 3000
    lazy: true
    max-failed-times: 3
    hidden: false
    include-all: true
    filter: '(ğŸ‡ºğŸ‡¸|ğŸ‡ºğŸ‡²)(?!.*[ğŸ‡¦-ğŸ‡¿]{2})'
    icon: https://cdn.jsdelivr.net/gh/Tengzexin0/jsdelivrcdn_repository@main/assets/icons/us.svg
  - name: JP
    type: url-test
    url: https://i.ytimg.com/generate_204
    interval: 30
    tolerance: 100
    timeout: 3000
    lazy: true
    max-failed-times: 3
    hidden: false
    include-all: true
    filter: 'ğŸ‡¯ğŸ‡µ(?!.*[ğŸ‡¦-ğŸ‡¿]{2})'
    icon: https://cdn.jsdelivr.net/gh/Tengzexin0/jsdelivrcdn_repository@main/assets/icons/jp.svg
  - name: HK
    type: url-test
    url: https://i.ytimg.com/generate_204
    interval: 30
    tolerance: 100
    timeout: 3000
    lazy: true
    max-failed-times: 3
    hidden: false
    include-all: true
    filter: 'ğŸ‡­ğŸ‡°(?!.*(?!ğŸ‡¨ğŸ‡³)[ğŸ‡¦-ğŸ‡¿]{2})'
    icon: https://cdn.jsdelivr.net/gh/Tengzexin0/jsdelivrcdn_repository@main/assets/icons/hk.svg
  - name: TW
    type: url-test
    url: https://i.ytimg.com/generate_204
    interval: 30
    tolerance: 100
    timeout: 3000
    lazy: true
    max-failed-times: 3
    hidden: false
    include-all: true
    filter: '(ğŸ‡¹ğŸ‡¼|TW|Taiwan)(?!.*(?!ğŸ‡¨ğŸ‡³)[ğŸ‡¦-ğŸ‡¿]{2})'
    icon: https://cdn.jsdelivr.net/gh/Tengzexin0/jsdelivrcdn_repository@main/assets/icons/tw.svg
  - name: KR
    type: url-test
    url: https://i.ytimg.com/generate_204
    interval: 30
    tolerance: 100
    timeout: 3000
    lazy: true
    max-failed-times: 3
    hidden: false
    include-all: true
    filter: 'ğŸ‡°ğŸ‡·(?!.*[ğŸ‡¦-ğŸ‡¿]{2})'
    icon: https://cdn.jsdelivr.net/gh/Tengzexin0/jsdelivrcdn_repository@main/assets/icons/kr.svg
  - name: SG
    type: url-test
    url: https://i.ytimg.com/generate_204
    interval: 30
    tolerance: 100
    timeout: 3000
    lazy: true
    max-failed-times: 3
    hidden: false
    include-all: true
    filter: 'ğŸ‡¸ğŸ‡¬(?!.*[ğŸ‡¦-ğŸ‡¿]{2})'
    icon: https://cdn.jsdelivr.net/gh/Tengzexin0/jsdelivrcdn_repository@main/assets/icons/sg.svg
  - name: å…¶ä»–
    type: url-test
    url: https://i.ytimg.com/generate_204
    interval: 30
    tolerance: 100
    timeout: 3000
    lazy: true
    max-failed-times: 3
    hidden: false
    include-all: true
    filter: '^(?!.*(ğŸ‡¨ğŸ‡³|ğŸ‡­ğŸ‡°|ğŸ‡²ğŸ‡´|ğŸ‡¹ğŸ‡¼|ğŸ‡¸ğŸ‡¬|ğŸ‡¯ğŸ‡µ|ğŸ‡ºğŸ‡¸|ğŸ‡ºğŸ‡²)(?!.*[ğŸ‡¦-ğŸ‡¿]{2}))'
    icon: https://cdn.jsdelivr.net/gh/Tengzexin0/jsdelivrcdn_repository@main/assets/icons/adjust.svg
  - name: è°·æ­ŒæœåŠ¡
    type: select
    proxies:
      - èŠ‚ç‚¹é€‰æ‹©
      - å»¶è¿Ÿé€‰ä¼˜
      - è½åœ°æŒ‡å®š
      - å¢™å†…ç›´è¿
    interval: 300
    timeout: 3000
    url: http://www.gstatic.com/generate_204
    lazy: true
    max-failed-times: 3
    hidden: false
    include-all: false
    icon: https://cdn.jsdelivr.net/gh/Tengzexin0/jsdelivrcdn_repository@main/assets/icons/google.svg
  - name: è‹¹æœæœåŠ¡
    type: select
    proxies:
      - èŠ‚ç‚¹é€‰æ‹©
      - å»¶è¿Ÿé€‰ä¼˜
      - è½åœ°æŒ‡å®š
    interval: 300
    timeout: 3000
    url: http://www.gstatic.com/generate_204
    lazy: true
    max-failed-times: 3
    hidden: false
    include-all: false
    icon: https://cdn.jsdelivr.net/gh/Tengzexin0/jsdelivrcdn_repository@main/assets/icons/apple.svg
  - name: å¾®è½¯æœåŠ¡
    type: select
    proxies:
      - å¢™å†…ç›´è¿
      - èŠ‚ç‚¹é€‰æ‹©
      - å»¶è¿Ÿé€‰ä¼˜
      - è½åœ°æŒ‡å®š
    interval: 300
    timeout: 3000
    url: http://www.gstatic.com/generate_204
    lazy: true
    max-failed-times: 3
    hidden: false
    include-all: false
    icon: https://cdn.jsdelivr.net/gh/Tengzexin0/jsdelivrcdn_repository@main/assets/icons/microsoft.svg
  - name: å¹¿å‘Šè¿‡æ»¤
    type: select
    proxies:
      - REJECT
      - DIRECT
    interval: 300
    timeout: 3000
    url: http://www.gstatic.com/generate_204
    lazy: true
    max-failed-times: 3
    hidden: false
    icon: https://cdn.jsdelivr.net/gh/Tengzexin0/jsdelivrcdn_repository@main/assets/icons/advertise.svg
  - name: æ¼ç½‘ä¹‹é±¼
    type: select
    proxies:
      - èŠ‚ç‚¹é€‰æ‹©
      - å»¶è¿Ÿé€‰ä¼˜
      - å¢™å†…ç›´è¿
      - å¹¿å‘Šè¿‡æ»¤
    interval: 300
    timeout: 3000
    url: http://www.gstatic.com/generate_204
    lazy: true
    max-failed-times: 3
    hidden: false
    include-all: false
    icon: https://cdn.jsdelivr.net/gh/Tengzexin0/jsdelivrcdn_repository@main/assets/icons/fish.svg

rules:
  - DOMAIN-SUFFIX,googleapis.cn,èŠ‚ç‚¹é€‰æ‹©
  - DOMAIN-SUFFIX,gstatic.com,èŠ‚ç‚¹é€‰æ‹©
  - DOMAIN-SUFFIX,xn--ngstr-lra8j.com,èŠ‚ç‚¹é€‰æ‹©
  - DOMAIN-SUFFIX,github.io,èŠ‚ç‚¹é€‰æ‹©
  - DOMAIN,v2rayse.com,èŠ‚ç‚¹é€‰æ‹©
  - RULE-SET,applications,å¢™å†…ç›´è¿
  - RULE-SET,private,å¢™å†…ç›´è¿
  - RULE-SET,unban,å¢™å†…ç›´è¿
  - RULE-SET,unban1,å¢™å†…ç›´è¿
  - RULE-SET,reject,å¹¿å‘Šè¿‡æ»¤
  - RULE-SET,banprogramad1,å¹¿å‘Šè¿‡æ»¤
  - RULE-SET,banprogramad,å¹¿å‘Šè¿‡æ»¤
  - RULE-SET,banad,å¹¿å‘Šè¿‡æ»¤
  - RULE-SET,googlecn,å¢™å†…ç›´è¿
  - RULE-SET,steamcn,å¢™å†…ç›´è¿
  - RULE-SET,icloud,å¾®è½¯æœåŠ¡
  - RULE-SET,apple,è‹¹æœæœåŠ¡
  - RULE-SET,google,è°·æ­ŒæœåŠ¡
  - RULE-SET,proxy,èŠ‚ç‚¹é€‰æ‹©
  - RULE-SET,gfw,èŠ‚ç‚¹é€‰æ‹©
  - RULE-SET,proxygfwlist,èŠ‚ç‚¹é€‰æ‹©
  - RULE-SET,tld-not-cn,èŠ‚ç‚¹é€‰æ‹©
  - RULE-SET,direct,å¢™å†…ç›´è¿
  - RULE-SET,lancidr,å¢™å†…ç›´è¿,no-resolve
  - RULE-SET,cncidr,å¢™å†…ç›´è¿,no-resolve
  - RULE-SET,telegramcidr,Telegram,no-resolve
  - RULE-SET,bilibilihmt,Bilibili
  - RULE-SET,bilibili,Bilibili
  - RULE-SET,openai,ChatGPT
  - RULE-SET,ai,AI
  - RULE-SET,netflix,Netflix
  - RULE-SET,disney+,Disney+
  - RULE-SET,chinadomain,å¢™å†…ç›´è¿
  - RULE-SET,chinacompanyip,å¢™å†…ç›´è¿
  - GEOSITE,CN,å¢™å†…ç›´è¿
  - GEOIP,LAN,å¢™å†…ç›´è¿,no-resolve
  - GEOIP,CN,å¢™å†…ç›´è¿,no-resolve
  - MATCH,æ¼ç½‘ä¹‹é±¼
